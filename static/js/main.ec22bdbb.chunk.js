(this["webpackJsonpchart-dashboard"]=this["webpackJsonpchart-dashboard"]||[]).push([[0],{145:function(e,t,a){},146:function(e,t,a){},25:function(e,t,a){e.exports={login:"Login_login__RPhcZ",MuiInputBase:"Login_MuiInputBase__1AQ23",MuiFormLabel:"Login_MuiFormLabel__1mcwM",logincontainer:"Login_logincontainer__OQvSM",error:"Login_error__2TEBq",loader:"Login_loader__29Azx"}},277:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),i=a.n(c),s=(a(145),a(146),a(33)),o=a(130),l=a(64),d=a(13),u=a(11),j=a(71),b=a.n(j),h=function(e){return b.a.post("/api/v1/getData",e,m())},m=function(){return{headers:{"x-auth-token":localStorage.getItem("token")}}},O=a(123),g=a.n(O),p=(a(168),a(89)),f=a.n(p),x=a(317),v=a(5),D=a(325),C=a(327),_=a(321),S=a(324),I=a(326),w=a(322),y=a(336),N=a(132),L={_id:"dashboard1516252439345",emailId:"candidate@sigmoid.com",orgViewReq:{organization:"DemoTest",view:"Auction"},chartObject:{metadata:{title:"chartobject:1516252439345",img_thumbnail:"../img/chart.png",chartType:"table",dataLimit:50},requestParam:{granularity:"hour",timeZone:{name:"UTC (+00:00)",location:"UTC"},dateRange:{startDate:"1493337600000",endDate:"1493510400000"},xAxis:["D044"],yAxis:["M002"],approxCountDistinct:[],specialCalculation:[],filter:[],orderBy:{metricOrdByList:[{id:"M002",desc:!0}]},percentCalList:[]}}},M={_id:"dashboard1516252235693",emailId:"candidate@sigmoid.com",orgViewReq:{organization:"DemoTest",view:"Auction"},chartObject:{metadata:{title:"chartobject:1516252235693",img_thumbnail:"../img/chart.png",chartType:"bar",dataLimit:50},requestParam:{granularity:"hour",timeZone:{name:"UTC (+00:00)",location:"UTC"},dateRange:{startDate:"1493337600000",endDate:"1493510400000"},xAxis:["D017"],yAxis:["M002"],approxCountDistinct:[],specialCalculation:[],filter:[],orderBy:{metricOrdByList:[{id:"M002",desc:!0}]},percentCalList:[]}}},k={_id:"Datastory_ChartId_1535224664111",emailId:"candidate@sigmoid.com",orgViewReq:{organization:"DemoTest",view:"Auction"},chartObject:{metadata:{title:"",img_thumbnail:"images/pie.png",chartType:"pie",dataLimit:500},text:[],requestParam:{granularity:"hour",timeZone:{name:"UTC (+00:00)",location:"UTC"},dateRange:{startDate:"1493424000000",endDate:"1493596800000"},xAxis:["D005"],yAxis:[],approxCountDistinct:[],specialCalculation:["CM001"],filter:[],orderBy:{customMetricOrdByList:[{id:"CM001",desc:!0}]},percentCalList:[{id:"CM001"}]}}},P=a(323),R=a(4),T=Object(x.a)({table:{minWidth:"90%"}}),F=Object(v.a)((function(e){return{head:{fontWeight:700},body:{fontSize:14}}}))(_.a),A=Object(v.a)((function(e){return{root:{}}}))(w.a);function B(e){var t=e.selectedRange,a=T(),c=Object(n.useState)([]),i=Object(u.a)(c,2),s=i[0],o=i[1],l=r.a.useState(0),d=Object(u.a)(l,2),j=d[0],b=d[1],m=r.a.useState(5),O=Object(u.a)(m,2),g=O[0],p=O[1],f=Object(n.useState)(),x=Object(u.a)(f,2),v=x[0],_=x[1];return Object(n.useEffect)((function(){var e=!0;return L.chartObject.requestParam.dateRange=t,t&&(_(!0),h(L).then((function(t){e&&(o(t.data.result.data),_(!1))}))),function(){return e=!1}}),[t]),v?Object(R.jsx)("div",{className:"progress",children:Object(R.jsx)(P.a,{disableShrink:!0})}):Object(R.jsxs)(N.a,{className:a.root,children:[Object(R.jsx)(S.a,{component:N.a,children:Object(R.jsxs)(D.a,{className:a.table,"aria-label":"simple table",children:[Object(R.jsx)(I.a,{children:Object(R.jsxs)(w.a,{children:[Object(R.jsx)(F,{children:"Publisher"}),Object(R.jsx)(F,{align:"right",children:"Impressions Offered"})]})}),Object(R.jsx)(C.a,{children:s.slice(j*g,j*g+g).map((function(e){return Object(R.jsxs)(A,{children:[Object(R.jsx)(F,{component:"th",scope:"row",children:e.publisherId}),Object(R.jsx)(F,{align:"right",children:e.impressions_offered})]},e.publisherId)}))})]})}),Object(R.jsx)(y.a,{rowsPerPageOptions:[5,10,15,20,50],component:"div",count:s.length,rowsPerPage:g,page:j,onPageChange:function(e,t){b(t)},onRowsPerPageChange:function(e){p(+e.target.value),b(0)}})]})}var q=a(70),z=a(331),E=a(332),U=Object(x.a)({root:{minWidth:"45%"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}});function W(e){var t=e.selectedRange,a=U(),r=Object(n.useState)([]),c=Object(u.a)(r,2),i=c[0],s=c[1],o=Object(n.useState)(),l=Object(u.a)(o,2),d=l[0],j=l[1],b={labels:i.map((function(e){return e.appSiteId})),datasets:[{label:"Impressions Offered",backgroundColor:"#3f51b5",color:"#FFFFFF",borderColor:"rgba(0,0,0,1)",borderWidth:1,data:i.map((function(e){return e.impressions_offered}))}]};return Object(n.useEffect)((function(){var e=!0;return M.chartObject.requestParam.dateRange=t,t&&(j(!0),h(M).then((function(t){e&&(s(t.data.result.data),j(!1))}))),function(){return e=!1}}),[t]),d?Object(R.jsx)("div",{className:"progress",children:Object(R.jsx)(P.a,{disableShrink:!0})}):Object(R.jsx)(z.a,{className:a.root,children:Object(R.jsx)(E.a,{children:Object(R.jsx)(q.a,{data:b,options:{title:{display:!0,text:"Average Rainfall per month",fontSize:20},legend:{display:!0,position:"right"}}})})})}var V=Object(x.a)({root:{minWidth:"45%"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}});function Z(e){var t=e.selectedRange,a=V(),r=Object(n.useState)([]),c=Object(u.a)(r,2),i=c[0],s=c[1],o=Object(n.useState)(),l=Object(u.a)(o,2),d=l[0],j=l[1],b=function(e,t){return e+Math.floor(Math.random()*(t-e+1))},m={labels:i.map((function(e){return e.advertiserId})),datasets:[{label:"Pia",data:i.map((function(e){return e.CM001_percent})),color:"rgba(75,192,192,1)",backgroundColor:i.map((function(e){return"rgb(\n              ".concat(b(0,255),",\n              ").concat(b(0,255),",\n              ").concat(b(0,255),")")})),hoverOffset:4}]};return Object(n.useEffect)((function(){var e=!0;return k.chartObject.requestParam.dateRange=t,t&&(j(!0),h(k).then((function(t){e&&(s(t.data.result.data),j(!1))}))),function(){return e=!1}}),[t]),d?Object(R.jsx)("div",{className:"progress",children:Object(R.jsx)(P.a,{disableShrink:!0})}):Object(R.jsx)(z.a,{className:a.root,children:Object(R.jsx)(E.a,{children:Object(R.jsx)(q.b,{data:m})})})}var Q=a(333),G=a(328),J=a(329),Y=a(334),H=Object(x.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function K(){var e=H(),t=Object(d.g)();return Object(R.jsx)("div",{className:e.root,children:Object(R.jsx)(Q.a,{position:"static",children:Object(R.jsxs)(G.a,{children:[Object(R.jsx)(J.a,{variant:"h6",className:e.title,children:"Charts"}),Object(R.jsx)(Y.a,{color:"inherit",onClick:function(){return sessionStorage.removeItem("token"),void t.push("/login")},children:"Logout"})]})})})}function X(){var e=Object(n.useState)(),t=Object(u.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(),i=Object(u.a)(c,2),s=i[0],o=i[1],l=Object(n.useState)(),d=Object(u.a)(l,2),j=d[0],h=d[1];Object(n.useEffect)((function(){h(!0),b.a.post("/api/v1/getDateRange",{organization:"DemoTest",view:"Auction"},m()).then((function(e){var t=e.data,a=t.status,n=t.result;if("200"===a.statusCode){var c=n.startDate,i=n.endDate;o({startDate:c,endDate:i}),r({startDate:c,endDate:i}),h(!1)}})).catch((function(e){return console.log(e)}))}),[]);var O=function(e){if(!s)return(new Date).getTime();var t=s.startDate,a=s.endDate;return e?new Date(Number(t)):new Date(Number(a))},p={maxDate:O(!1),mode:"range",altInputClass:"hide",dateFormat:"M d Y",minDate:O(!0),defaultDate:[O(!0),O(!1)]};return j?Object(R.jsx)("div",{className:"progress",children:Object(R.jsx)(P.a,{disableShrink:!0})}):Object(R.jsxs)("div",{children:[Object(R.jsx)(K,{}),Object(R.jsx)("div",{className:"m-input",children:Object(R.jsx)(g.a,{options:p,className:f.a.flatpickrInput,onChange:function(e){return function(e){if(Array.isArray(e)&&e.length>1){var t=e[0].getTime()+"",a=e[1].getTime()+"";r({startDate:t,endDate:a})}}(e)}})}),Object(R.jsxs)("div",{className:f.a.charts,children:[Object(R.jsx)(W,{selectedRange:a}),Object(R.jsx)(Z,{selectedRange:a}),Object(R.jsx)(B,{selectedRange:a})]})]})}var $=a(335),ee=a(337),te=a(330),ae=a(25),ne=a.n(ae);function re(){var e=Object(d.g)(),t=Object(n.useState)(""),a=Object(u.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(""),s=Object(u.a)(i,2),o=s[0],l=s[1],j=Object(n.useState)(!1),h=Object(u.a)(j,2),m=h[0],O=h[1],g=Object(n.useState)(!1),p=Object(u.a)(g,2),f=p[0],x=p[1],v=Object(n.useState)(!1),D=Object(u.a)(v,2),C=D[0],_=D[1],S=function(){_(!1),r&&o?(O(!1),x(!0),function(e,t){return b.a.post("/signIn",{email:e,password:t,rememberMe:!0})}(r,o).then((function(t){x(!1);var a=t.data,n=a.token;"200"===a.statusCode?(localStorage.setItem("token",n),e.push("/")):_(!0)})).catch((function(e){return console.log(e)}))):O(!0)};return Object(R.jsx)("div",{className:ne.a.logincontainer,children:Object(R.jsxs)("div",{className:ne.a.login,children:["Login",Object(R.jsxs)($.a,{required:!0,children:[Object(R.jsx)(ee.a,{htmlFor:"email",className:ne.a.MuiFormLabel,children:"Email Address"}),Object(R.jsx)(te.a,{id:"email",className:ne.a.MuiInputBase,value:r,onChange:function(e){return c(e.target.value)},required:!0})]}),Object(R.jsxs)($.a,{required:!0,children:[Object(R.jsx)(ee.a,{htmlFor:"password",className:ne.a.MuiFormLabel,children:"Password"}),Object(R.jsx)(te.a,{id:"password",className:ne.a.MuiInputBase,value:o,onChange:function(e){return l(e.target.value)},required:!0})]}),m&&Object(R.jsx)("span",{className:ne.a.error,children:"Please Enter all required Fields"}),C&&Object(R.jsx)("span",{className:ne.a.error,children:"Incorrect Username Password"}),Object(R.jsx)($.a,{children:Object(R.jsxs)(Y.a,{variant:"outlined",color:"primary",onClick:function(){return S()},children:["Login",f&&Object(R.jsx)("span",{className:ne.a.loader,children:Object(R.jsx)(P.a,{disableShrink:!0,size:12})})]})})]})})}var ce=["children"];function ie(){return Object(R.jsxs)(l.a,{children:[Object(R.jsx)(d.d,{children:Object(R.jsx)(d.b,{exact:!0,path:"/login",children:Object(R.jsx)(re,{})})}),Object(R.jsx)(se,{exact:!0,path:"/",children:Object(R.jsx)(X,{})})]})}function se(e){var t=e.children,a=Object(o.a)(e,ce),n=!!localStorage.getItem("token");return Object(R.jsx)(d.b,Object(s.a)(Object(s.a)({},a),{},{render:function(e){var a=e.location;return n?t:Object(R.jsx)(d.a,{to:{pathname:"/login",state:{from:a}}})}}))}var oe=function(){return Object(R.jsx)("div",{className:"App",children:Object(R.jsx)(ie,{})})},le=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,339)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))};i.a.render(Object(R.jsx)(r.a.StrictMode,{children:Object(R.jsx)(oe,{})}),document.getElementById("root")),le()},89:function(e,t,a){e.exports={flatpickrInput:"Dashboard_flatpickrInput__V1Qw2",charts:"Dashboard_charts__2YPvW"}}},[[277,1,2]]]);
//# sourceMappingURL=main.ec22bdbb.chunk.js.map